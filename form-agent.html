<!doctype html>
<html lang="fa" dir="rtl">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>ÙØ±Ù… Ø¯ÙˆØ±Ù‡ Ø³Ø§Ø®Øª Ø§ÛŒØ¬Ù†Øª Ø¨Ø§ Ù‡ÙˆØ´ Ù…ØµÙ†ÙˆØ¹ÛŒ</title>
  <style>
    :root{
      --bg:#0b1020;
      --card:#0f1730;
      --card2:#0c142b;
      --border: rgba(255,255,255,.10);
      --text: rgba(255,255,255,.92);
      --muted: rgba(255,255,255,.65);
      --accent:#a855f7;   /* Ø¨Ù†ÙØ´ */
      --accent2:#22c55e;  /* Ø³Ø¨Ø² */
      --shadow: 0 18px 50px rgba(0,0,0,.45);
      --radius: 18px;
    }

    *{ box-sizing:border-box; }
    body{
      margin:0;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial;
      background: radial-gradient(1200px 800px at 20% 10%, rgba(168,85,247,.18), transparent 60%),
                  radial-gradient(1000px 700px at 80% 90%, rgba(34,197,94,.10), transparent 55%),
                  var(--bg);
      color: var(--text);
      min-height:100vh;
      display:flex;
      align-items:center;
      justify-content:center;
      padding: 28px 16px;
    }

    .wrap{
      width:min(920px, 100%);
      display:grid;
      gap:16px;
    }

    .card{
      background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.03));
      border:1px solid var(--border);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      overflow:hidden;
      position:relative;
    }

    .header{
      padding: 18px 18px 10px;
    }

    .title{
      margin:0;
      font-size: 18px;
      font-weight: 800;
      letter-spacing: .2px;
    }
    .subtitle{
      margin:6px 0 0;
      color: var(--muted);
      font-size: 13px;
      line-height:1.7;
    }

    /* Top step tabs */
    .steps{
      display:flex;
      gap:10px;
      padding: 14px 18px 0;
      flex-wrap:wrap;
      align-items:center;
    }
    .step-pill{
      display:flex;
      align-items:center;
      gap:8px;
      padding:8px 10px;
      border:1px solid var(--border);
      border-radius: 999px;
      background: rgba(0,0,0,.12);
      color: var(--muted);
      font-size: 12px;
      user-select:none;
    }
    .step-pill .dot{
      width:8px; height:8px; border-radius:999px;
      background: rgba(255,255,255,.28);
    }
    .step-pill.active{
      color: var(--text);
      border-color: rgba(168,85,247,.55);
      background: rgba(168,85,247,.12);
    }
    .step-pill.active .dot{ background: var(--accent); }
    .step-pill.done{
      color: rgba(255,255,255,.85);
      border-color: rgba(34,197,94,.50);
      background: rgba(34,197,94,.10);
    }
    .step-pill.done .dot{ background: var(--accent2); }

    /* Progress bar */
    .progress{
      padding: 10px 18px 0;
    }
    .bar{
      height:10px;
      border-radius:999px;
      background: rgba(255,255,255,.08);
      border:1px solid rgba(255,255,255,.08);
      overflow:hidden;
    }
    .bar > i{
      display:block;
      height:100%;
      width: 0%;
      border-radius:999px;
      background: linear-gradient(90deg, var(--accent), rgba(168,85,247,.35));
      transition: width .45s ease;
    }

    .content{
      padding: 14px 18px 18px;
    }

    .q{
      margin: 14px 0 10px;
      font-size: 18px;
      font-weight: 800;
    }
    .hint{
      margin: -2px 0 10px;
      color: var(--muted);
      font-size: 12px;
    }

    .grid{
      display:grid;
      gap:10px;
      grid-template-columns: 1fr;
    }
    @media (min-width: 760px){
      .grid.two{ grid-template-columns: 1fr 1fr; }
    }

    .option{
      width:100%;
      text-align:right;
      border:1px solid rgba(255,255,255,.10);
      background: rgba(12,20,43,.55);
      color: var(--text);
      border-radius: 14px;
      padding: 12px 12px;
      cursor:pointer;
      transition: transform .08s ease, border-color .25s ease, background .25s ease;
      outline:none;
    }
    .option:hover{ border-color: rgba(168,85,247,.35); }
    .option:active{ transform: scale(.99); }
    .option.selected{
      border-color: rgba(168,85,247,.65);
      background: rgba(168,85,247,.12);
    }

    .field label{
      display:block;
      margin: 10px 0 6px;
      font-weight:700;
      font-size: 13px;
      color: rgba(255,255,255,.85);
    }
    .field input, .field select, .field textarea{
      width:100%;
      border:1px solid rgba(255,255,255,.12);
      background: rgba(12,20,43,.55);
      color: var(--text);
      border-radius: 14px;
      padding: 11px 12px;
      outline:none;
      font-size: 14px;
    }
    .field textarea{ min-height: 120px; resize: vertical; }

    .actions{
      display:flex;
      gap:10px;
      justify-content:space-between;
      align-items:center;
      padding: 14px 18px 18px;
      border-top: 1px solid rgba(255,255,255,.08);
      background: rgba(0,0,0,.10);
    }
    .btn{
      border:0;
      border-radius: 14px;
      padding: 11px 14px;
      font-weight: 800;
      cursor:pointer;
      transition: transform .08s ease, opacity .2s ease;
    }
    .btn:active{ transform: scale(.99); }
    .btn.primary{
      background: linear-gradient(90deg, rgba(255,255,255,.92), rgba(255,255,255,.86));
      color:#0b1020;
      min-width: 140px;
    }
    .btn.ghost{
      background: transparent;
      color: rgba(255,255,255,.75);
      border:1px solid rgba(255,255,255,.14);
      min-width: 120px;
    }
    .btn:disabled{
      opacity:.45;
      cursor:not-allowed;
    }

    /* Step transitions */
    .step{
      display:none;
      animation: fadeIn .26s ease;
    }
    .step.active{ display:block; }
    @keyframes fadeIn{
      from{ opacity:0; transform: translateY(6px); }
      to{ opacity:1; transform: translateY(0); }
    }

    .toast{
      margin-top: 10px;
      padding: 10px 12px;
      border-radius: 14px;
      border:1px solid rgba(245,158,11,.35);
      background: rgba(245,158,11,.12);
      color: rgba(255,255,255,.92);
      display:none;
      font-size: 13px;
    }
    .toast.show{ display:block; }

    .fineprint{
      margin-top: 10px;
      font-size: 12px;
      color: var(--muted);
      line-height:1.7;
    }

    .small{
      font-size:12px;
      color: var(--muted);
    }

    /* Ø²Ø¨Ø§Ù†: Ø¯Ú©Ù…Ù‡ Ú©ÙˆÚ†Ú© Ùˆ Ø´Ù†Ø§ÙˆØ± */
    .lang-fab{
      position: fixed;
      top: 14px;
      left: 14px;
      z-index: 9999;
      width: auto;
      max-width: 180px;
      border: 1px solid rgba(255,255,255,.14);
      background: rgba(0,0,0,.20);
      color: rgba(255,255,255,.88);
      border-radius: 999px;
      padding: 8px 10px;
      cursor: pointer;
      font-weight: 800;
      font-size: 12px;
      line-height: 1;
      backdrop-filter: blur(8px);
    }
    .lang-fab:hover{ border-color: rgba(168,85,247,.35); }
    .lang-fab:active{ transform: scale(.99); }
  </style>
</head>

<body>
  <!-- Language toggle (FA default) -->
  <button type="button" id="langBtn" class="lang-fab">ğŸ‡¬ğŸ‡§ English</button>

  <div class="wrap">
    <div class="card">
      <div class="header">
        <h1 class="title">ÙØ±Ù… Ø«Ø¨Øªâ€ŒÙ†Ø§Ù… Ø¯ÙˆØ±Ù‡: Ø³Ø§Ø®Øª Ø§ÛŒØ¬Ù†Øª Ø¨Ø§ Ù‡ÙˆØ´ Ù…ØµÙ†ÙˆØ¹ÛŒ</h1>
        <p class="subtitle">Ú†Ù†Ø¯ Ø³Ø¤Ø§Ù„ Ú©ÙˆØªØ§Ù‡ ØªØ§ Ø¯ÙˆØ±Ù‡ Ø¯Ù‚ÛŒÙ‚Ø§Ù‹ Ù…Ø·Ø§Ø¨Ù‚ Ø³Ø·Ø­ Ø¯Ø§Ù†Ø´ Ùˆ Ù‡Ø¯Ù Ø´Ù…Ø§ ØªÙ†Ø¸ÛŒÙ… Ø´ÙˆØ¯.</p>
      </div>

      <div class="steps" id="stepPills"></div>

      <div class="progress">
        <div class="bar"><i id="progressFill"></i></div>
      </div>

      <!-- FormSubmit -->
      <form id="wizardForm" action="https://formsubmit.co/khabat.setaei@gmail.com" method="POST" accept-charset="UTF-8">
        <!-- FormSubmit settings -->
        <input type="hidden" name="_subject" value="Ø¯Ø±Ø®ÙˆØ§Ø³Øª Ø¯ÙˆØ±Ù‡: Ø³Ø§Ø®Øª Ø§ÛŒØ¬Ù†Øª Ù‡ÙˆØ´ Ù…ØµÙ†ÙˆØ¹ÛŒ (Wizard)" />
        <input type="hidden" name="_captcha" value="false" />
        <input type="hidden" name="_next" id="nextField" value="https://setai.no/recommend.html" />
        <input type="text" name="_honey" style="display:none" tabindex="-1" autocomplete="off" />

        <!-- Collected fields (hidden, to keep everything clean) -->
        <input type="hidden" name="Ù‡Ø¯Ù Ø§ØµÙ„ÛŒ" id="f_goal" />
        <input type="hidden" name="Ø³Ø·Ø­ ØªØ¬Ø±Ø¨Ù‡" id="f_level" />
        <input type="hidden" name="Ø¯Ø§Ù†Ø´ ÙÙ†ÛŒ" id="f_skill" />
        <input type="hidden" name="Ù†ÙˆØ¹ Ø§ÛŒØ¬Ù†Øª" id="f_agent_type" />
        <input type="hidden" name="Ø®Ø±ÙˆØ¬ÛŒ Ù…ÙˆØ±Ø¯ Ø§Ù†ØªØ¸Ø§Ø±" id="f_outcome" />
        <input type="hidden" name="Ù†Ø§Ù… Ùˆ Ù†Ø§Ù… Ø®Ø§Ù†ÙˆØ§Ø¯Ú¯ÛŒ" id="f_name" />
        <input type="hidden" name="Ø§ÛŒÙ…ÛŒÙ„" id="f_email" />
        <input type="hidden" name="Ø´Ù…Ø§Ø±Ù‡ ØªÙ…Ø§Ø³" id="f_phone" />
        <input type="hidden" name="ØªÙˆØ¶ÛŒØ­Ø§Øª ØªÚ©Ù…ÛŒÙ„ÛŒ" id="f_notes" />
        <input type="hidden" name="Ø®Ù„Ø§ØµÙ‡ (JSON)" id="f_json" />

        <div class="content">
          <div class="toast" id="toast"></div>

          <!-- STEP 1 -->
          <section class="step active" data-step="0">
            <div class="q">Ù‡Ø¯Ù Ø´Ù…Ø§ Ø§Ø² Ø´Ø±Ú©Øª Ø¯Ø± Ø§ÛŒÙ† Ø¯ÙˆØ±Ù‡ Ú†ÛŒØ³ØªØŸ</div>
            <div class="hint">ÛŒÚ© Ú¯Ø²ÛŒÙ†Ù‡ Ø±Ø§ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯.</div>
            <div class="grid">
              <button type="button" class="option" data-pick="goal" data-value="Ø³Ø§Ø®Øª Ø§ÛŒØ¬Ù†Øª Ø¨Ø±Ø§ÛŒ Ú©Ø§Ø±/Ø¨ÛŒØ²Ù†Ø³">Ø³Ø§Ø®Øª Ø§ÛŒØ¬Ù†Øª Ø¨Ø±Ø§ÛŒ Ú©Ø§Ø±/Ø¨ÛŒØ²Ù†Ø³ (Ø§ØªÙˆÙ…Ø§Ø³ÛŒÙˆÙ†ØŒ ÙØ±ÙˆØ´ØŒ Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ Ùˆ ...)</button>
              <button type="button" class="option" data-pick="goal" data-value="ÛŒØ§Ø¯Ú¯ÛŒØ±ÛŒ ØªÚ©Ù†ÛŒÚ©ÛŒ Ùˆ ØªÙˆØ³Ø¹Ù‡">ÛŒØ§Ø¯Ú¯ÛŒØ±ÛŒ ØªÚ©Ù†ÛŒÚ©ÛŒ Ùˆ ØªÙˆØ³Ø¹Ù‡ (APIØŒ Ù…Ø¹Ù…Ø§Ø±ÛŒØŒ Ú©Ø¯Ù†ÙˆÛŒØ³ÛŒ)</button>
              <button type="button" class="option" data-pick="goal" data-value="Ø³Ø§Ø®Øª Ù†Ù…ÙˆÙ†Ù‡ Ø§ÙˆÙ„ÛŒÙ‡ Ø¨Ø±Ø§ÛŒ Ù…Ø­ØµÙˆÙ„">Ø³Ø§Ø®Øª Ù†Ù…ÙˆÙ†Ù‡ Ø§ÙˆÙ„ÛŒÙ‡ Ø¨Ø±Ø§ÛŒ Ù…Ø­ØµÙˆÙ„/Ø§Ø³ØªØ§Ø±ØªØ§Ù¾</button>
              <button type="button" class="option" data-pick="goal" data-value="Ø³Ø§ÛŒØ±">Ø³Ø§ÛŒØ±</button>
            </div>
          </section>

          <!-- STEP 2 -->
          <section class="step" data-step="1">
            <div class="q">Ø³Ø§Ø¨Ù‚Ù‡ Ùˆ ØªØ¬Ø±Ø¨Ù‡ Ø´Ù…Ø§ Ú†Ù‚Ø¯Ø± Ø§Ø³ØªØŸ</div>
            <div class="hint">Ù…Ø«Ù„ Ù†Ù…ÙˆÙ†Ù‡â€ŒØ§ÛŒ Ú©Ù‡ Ø¯Ø± ÙˆÛŒØ¯Ø¦Ùˆ Ù‡Ø³Øª: Ø³Ø±ÛŒØ¹ Ùˆ Ø³Ø§Ø¯Ù‡ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯.</div>
            <div class="grid">
              <button type="button" class="option" data-pick="level" data-value="ØµÙØ± Ù‡Ø³ØªÙ… (ØªØ§Ø²Ù‡ Ø´Ø±ÙˆØ¹ Ù…ÛŒâ€ŒÚ©Ù†Ù…)">ØµÙØ± Ù‡Ø³ØªÙ… (ØªØ§Ø²Ù‡ Ø´Ø±ÙˆØ¹ Ù…ÛŒâ€ŒÚ©Ù†Ù…)</button>
              <button type="button" class="option" data-pick="level" data-value="Ú©Ù…ÛŒ ØªØ¬Ø±Ø¨Ù‡ Ø¯Ø§Ø±Ù… (Ø§Ø¨Ø²Ø§Ø±Ù‡Ø§ Ø±Ø§ Ù…ÛŒâ€ŒØ´Ù†Ø§Ø³Ù…)">Ú©Ù…ÛŒ ØªØ¬Ø±Ø¨Ù‡ Ø¯Ø§Ø±Ù… (Ø§Ø¨Ø²Ø§Ø±Ù‡Ø§ Ø±Ø§ Ù…ÛŒâ€ŒØ´Ù†Ø§Ø³Ù…)</button>
              <button type="button" class="option" data-pick="level" data-value="Ù…ØªÙˆØ³Ø· (Ú¯Ø§Ù‡ÛŒ Ø¨Ø§ API/Ø§ØªÙˆÙ…Ø§Ø³ÛŒÙˆÙ† Ú©Ø§Ø± Ú©Ø±Ø¯Ù‡â€ŒØ§Ù…)">Ù…ØªÙˆØ³Ø· (Ú¯Ø§Ù‡ÛŒ Ø¨Ø§ API/Ø§ØªÙˆÙ…Ø§Ø³ÛŒÙˆÙ† Ú©Ø§Ø± Ú©Ø±Ø¯Ù‡â€ŒØ§Ù…)</button>
              <button type="button" class="option" data-pick="level" data-value="Ù¾ÛŒØ´Ø±ÙØªÙ‡ (Ø³Ø§Ø®Øª Ø¨Ø§Øª/Ø§Ù¾/Ø§ØªØµØ§Ù„ Ø³Ø±ÙˆÛŒØ³â€ŒÙ‡Ø§)">Ù¾ÛŒØ´Ø±ÙØªÙ‡ (Ø³Ø§Ø®Øª Ø¨Ø§Øª/Ø§Ù¾/Ø§ØªØµØ§Ù„ Ø³Ø±ÙˆÛŒØ³â€ŒÙ‡Ø§)</button>
            </div>
          </section>

          <!-- STEP 3 -->
          <section class="step" data-step="2">
            <div class="q">Ø³Ø·Ø­ ÙÙ†ÛŒ Ø´Ù…Ø§ Ú©Ø¯Ø§Ù… Ø§Ø³ØªØŸ</div>
            <div class="hint">ÛŒÚ© Ú¯Ø²ÛŒÙ†Ù‡ Ø±Ø§ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯.</div>
            <div class="grid">
              <button type="button" class="option" data-pick="skill" data-value="Ø¨Ø¯ÙˆÙ† Ú©Ø¯Ù†ÙˆÛŒØ³ÛŒ (No-code)">Ø¨Ø¯ÙˆÙ† Ú©Ø¯Ù†ÙˆÛŒØ³ÛŒ (No-code)</button>
              <button type="button" class="option" data-pick="skill" data-value="Ù…Ù‚Ø¯Ù…Ø§ØªÛŒ Ø¨Ø±Ù†Ø§Ù…Ù‡â€ŒÙ†ÙˆÛŒØ³ÛŒ">Ù…Ù‚Ø¯Ù…Ø§ØªÛŒ Ø¨Ø±Ù†Ø§Ù…Ù‡â€ŒÙ†ÙˆÛŒØ³ÛŒ</button>
              <button type="button" class="option" data-pick="skill" data-value="Ø¨Ø±Ù†Ø§Ù…Ù‡â€ŒÙ†ÙˆÛŒØ³ (Python/JS Ùˆ API)">Ø¨Ø±Ù†Ø§Ù…Ù‡â€ŒÙ†ÙˆÛŒØ³ (Python/JS Ùˆ API)</button>
              <button type="button" class="option" data-pick="skill" data-value="ÙÙˆÙ„â€ŒØ§Ø³ØªÚ©/Ø³ÛŒØ³ØªÙ… (Ø¯ÛŒÙ¾Ù„ÙˆÛŒ/Ù…Ø¹Ù…Ø§Ø±ÛŒ)">ÙÙˆÙ„â€ŒØ§Ø³ØªÚ©/Ø³ÛŒØ³ØªÙ… (Ø¯ÛŒÙ¾Ù„ÙˆÛŒ/Ù…Ø¹Ù…Ø§Ø±ÛŒ)</button>
            </div>
          </section>

          <!-- STEP 4 -->
          <section class="step" data-step="3">
            <div class="q">Ù…ÛŒâ€ŒØ®ÙˆØ§Ù‡ÛŒØ¯ Ú†Ù‡ Ù†ÙˆØ¹ Ø§ÛŒØ¬Ù†ØªÛŒ Ø¨Ø³Ø§Ø²ÛŒØ¯ØŸ</div>
            <div class="hint">ÛŒÚ© Ú¯Ø²ÛŒÙ†Ù‡ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯. (Ø¯Ø± ØµÙˆØ±Øª Ù†ÛŒØ§Ø² Ø¬Ø²Ø¦ÛŒØ§Øª Ø±Ø§ Ø¯Ø± Ù…Ø±Ø­Ù„Ù‡ Ø¢Ø®Ø± Ø¨Ù†ÙˆÛŒØ³ÛŒØ¯.)</div>
            <div class="grid two">
              <button type="button" class="option" data-pick="agent" data-value="Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ Ù…Ø´ØªØ±ÛŒ (Chatbot)">Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ Ù…Ø´ØªØ±ÛŒ (Chatbot)</button>
              <button type="button" class="option" data-pick="agent" data-value="ÙØ±ÙˆØ´ Ùˆ Ù„ÛŒØ¯">ÙØ±ÙˆØ´ Ùˆ Ù„ÛŒØ¯</button>
              <button type="button" class="option" data-pick="agent" data-value="ØªÙˆÙ„ÛŒØ¯ Ù…Ø­ØªÙˆØ§/Ù…Ø§Ø±Ú©ØªÛŒÙ†Ú¯">ØªÙˆÙ„ÛŒØ¯ Ù…Ø­ØªÙˆØ§/Ù…Ø§Ø±Ú©ØªÛŒÙ†Ú¯</button>
              <button type="button" class="option" data-pick="agent" data-value="ØªØ­Ù„ÛŒÙ„/Ú¯Ø²Ø§Ø±Ø´â€ŒÚ¯ÛŒØ±ÛŒ">ØªØ­Ù„ÛŒÙ„/Ú¯Ø²Ø§Ø±Ø´â€ŒÚ¯ÛŒØ±ÛŒ</button>
              <button type="button" class="option" data-pick="agent" data-value="Ø§ÛŒØ¬Ù†Øª Ø´Ø®ØµÛŒ (Ú©Ø§Ø±Ù‡Ø§ÛŒ Ø±ÙˆØ²Ù…Ø±Ù‡)">Ø§ÛŒØ¬Ù†Øª Ø´Ø®ØµÛŒ (Ú©Ø§Ø±Ù‡Ø§ÛŒ Ø±ÙˆØ²Ù…Ø±Ù‡)</button>
              <button type="button" class="option" data-pick="agent" data-value="Ø³Ø§ÛŒØ±">Ø³Ø§ÛŒØ±</button>
            </div>
          </section>

          <!-- STEP 5 -->
          <section class="step" data-step="4">
            <div class="q">Ø¯Ø± Ù¾Ø§ÛŒØ§Ù† Ø¯ÙˆØ±Ù‡ØŒ Ø¯Ù‚ÛŒÙ‚Ø§Ù‹ Ú†Ù‡ Ø®Ø±ÙˆØ¬ÛŒ Ù…ÛŒâ€ŒØ®ÙˆØ§Ù‡ÛŒØ¯ØŸ</div>
            <div class="hint">ÛŒÚ© Ø¬Ù…Ù„Ù‡ Ú©ÙˆØªØ§Ù‡ Ú©Ø§ÙÛŒ Ø§Ø³Øª.</div>
            <div class="field">
              <label for="outcome">Ø®Ø±ÙˆØ¬ÛŒ Ù…ÙˆØ±Ø¯ Ø§Ù†ØªØ¸Ø§Ø± *</label>
              <textarea id="outcome" placeholder="Ù…Ø«Ù„Ø§Ù‹: ÛŒÚ© Ø§ÛŒØ¬Ù†Øª Ø¢Ù…Ø§Ø¯Ù‡ Ú©Ù‡ Ø¨Ù‡ Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ Ù…Ù† ÙˆØµÙ„ Ø´ÙˆØ¯ Ùˆ Ø±ÙˆÛŒ Ø³Ø§ÛŒØª Ú©Ø§Ø± Ú©Ù†Ø¯..."></textarea>
            </div>
          </section>

          <!-- STEP 6 -->
          <section class="step" data-step="5">
            <div class="q">Ø§Ø·Ù„Ø§Ø¹Ø§Øª ØªÙ…Ø§Ø³</div>
            <div class="hint">Ø¨Ø±Ø§ÛŒ Ù‡Ù…Ø§Ù‡Ù†Ú¯ÛŒ Ùˆ Ø§Ø±Ø³Ø§Ù„ Ø¬Ø²Ø¦ÛŒØ§Øª Ø¯ÙˆØ±Ù‡.</div>

            <div class="grid two">
              <div class="field">
                <label for="name">Ù†Ø§Ù… Ùˆ Ù†Ø§Ù… Ø®Ø§Ù†ÙˆØ§Ø¯Ú¯ÛŒ *</label>
                <input id="name" type="text" placeholder="Ù†Ø§Ù… Ø´Ù…Ø§"/>
              </div>
              <div class="field">
                <label for="email">Ø§ÛŒÙ…ÛŒÙ„ *</label>
                <input id="email" type="email" placeholder="example@email.com"/>
              </div>
              <div class="field">
                <label for="phone">Ø´Ù…Ø§Ø±Ù‡ ØªÙ…Ø§Ø³ (Ø§Ø®ØªÛŒØ§Ø±ÛŒ)</label>
                <input id="phone" type="tel" placeholder="+47 ... ÛŒØ§ +98 ..."/>
              </div>
              <div class="field">
                <label for="notes">ØªÙˆØ¶ÛŒØ­Ø§Øª ØªÚ©Ù…ÛŒÙ„ÛŒ (Ø§Ø®ØªÛŒØ§Ø±ÛŒ)</label>
                <input id="notes" type="text" placeholder="Ù…Ø«Ù„Ø§Ù‹ Ù…ÙˆØ¶ÙˆØ¹ Ø®Ø§ØµØŒ ØµÙ†Ø¹Øª Ø´Ù…Ø§ØŒ Ø§Ø¨Ø²Ø§Ø± Ù…Ø¯Ù†Ø¸Ø±..."/>
              </div>
            </div>

            <div class="fineprint">
              Ù„Ø·ÙØ§Ù‹ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø­Ø³Ø§Ø³ (Ø±Ù…Ø²ØŒ Ú©Ù„ÛŒØ¯ API Ùˆ ...) ÙˆØ§Ø±Ø¯ Ù†Ú©Ù†ÛŒØ¯. Ø§Ø±Ø³Ø§Ù„ Ø§ÛŒÙ† ÙØ±Ù… Ø¨Ø§ Ø§ÛŒÙ…ÛŒÙ„ Ø¨Ø±Ø§ÛŒ Ø´Ù…Ø§ Ø§Ù†Ø¬Ø§Ù… Ù…ÛŒâ€ŒØ´ÙˆØ¯ (FormSubmit).
            </div>
            <div class="small" id="reviewBox" style="margin-top:10px;"></div>
          </section>
        </div>

        <div class="actions">
          <button type="button" class="btn ghost" id="prevBtn">Ù‚Ø¨Ù„ÛŒ</button>
          <button type="button" class="btn primary" id="nextBtn">Ù…Ø±Ø­Ù„Ù‡ Ø¨Ø¹Ø¯</button>
        </div>
      </form>
    </div>
  </div>

  <script>
    const steps = [
      { key: "goal",  label: "Ù‡Ø¯Ù",   required: true },
      { key: "level", label: "ØªØ¬Ø±Ø¨Ù‡", required: true },
      { key: "skill", label: "Ø³Ø·Ø­ ÙÙ†ÛŒ", required: true },
      { key: "agent", label: "Ù†ÙˆØ¹ Ø§ÛŒØ¬Ù†Øª", required: true },
      { key: "outcome", label: "Ø®Ø±ÙˆØ¬ÛŒ", required: true },
      { key: "contact", label: "Ø§Ø±Ø³Ø§Ù„", required: true },
    ];

    const state = {
      goal: "",
      level: "",
      skill: "",
      agent: "",
      outcome: "",
      name: "",
      email: "",
      phone: "",
      notes: ""
    };

    let current = 0;

    const $ = (s, el=document) => el.querySelector(s);
    const $$ = (s, el=document) => Array.from(el.querySelectorAll(s));

    const form = $("#wizardForm");
    const stepEls = $$(".step");
    const toast = $("#toast");
    const progressFill = $("#progressFill");
    const prevBtn = $("#prevBtn");
    const nextBtn = $("#nextBtn");
    const pills = $("#stepPills");
    const reviewBox = $("#reviewBox");

    // Build pills
    function renderPills(){
      pills.innerHTML = "";
      steps.forEach((st, i) => {
        const div = document.createElement("div");
        div.className = "step-pill" + (i===current ? " active" : "") + (i<current ? " done" : "");
        div.innerHTML = `<span class="dot"></span><span>${st.label}</span>`;
        pills.appendChild(div);
      });
    }

    function showToast(msg){
      toast.textContent = msg;
      toast.classList.add("show");
      setTimeout(()=> toast.classList.remove("show"), 2200);
    }

    function setProgress(){
      const pct = Math.round((current)/(steps.length-1) * 100);
      progressFill.style.width = pct + "%";
    }

    function showStep(index){
      current = Math.max(0, Math.min(index, steps.length-1));
      stepEls.forEach(el => el.classList.remove("active"));
      stepEls[current].classList.add("active");

      prevBtn.disabled = current === 0;
      nextBtn.textContent = current === steps.length-1 ? "Ø§Ø±Ø³Ø§Ù„ ÙØ±Ù…" : "Ù…Ø±Ø­Ù„Ù‡ Ø¨Ø¹Ø¯";

      renderPills();
      setProgress();

      if(current === steps.length-1){
        renderReview();
      }
    }

    function selectOption(pickKey, value, clickedBtn){
      state[pickKey] = value;

      // Clear selected among same pick group in current step
      const scope = stepEls[current];
      $$(`.option[data-pick="${pickKey}"]`, scope).forEach(b => b.classList.remove("selected"));
      if(clickedBtn) clickedBtn.classList.add("selected");
    }

    // Option clicks
    $$(".option").forEach(btn => {
      btn.addEventListener("click", () => {
        const pick = btn.getAttribute("data-pick");
        const val = btn.getAttribute("data-value");
        selectOption(pick, val, btn);
      });
    });

    function validateCurrent(){
      // Step-based validation
      if(current === 0 && !state.goal)   return "Ù„Ø·ÙØ§Ù‹ Ù‡Ø¯Ù Ø®ÙˆØ¯ Ø±Ø§ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯.";
      if(current === 1 && !state.level)  return "Ù„Ø·ÙØ§Ù‹ Ø³Ø·Ø­ ØªØ¬Ø±Ø¨Ù‡ Ø±Ø§ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯.";
      if(current === 2 && !state.skill)  return "Ù„Ø·ÙØ§Ù‹ Ø³Ø·Ø­ ÙÙ†ÛŒ Ø±Ø§ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯.";
      if(current === 3 && !state.agent)  return "Ù„Ø·ÙØ§Ù‹ Ù†ÙˆØ¹ Ø§ÛŒØ¬Ù†Øª Ø±Ø§ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯.";

      if(current === 4){
        const v = $("#outcome").value.trim();
        if(!v) return "Ù„Ø·ÙØ§Ù‹ Ø®Ø±ÙˆØ¬ÛŒ Ù…ÙˆØ±Ø¯ Ø§Ù†ØªØ¸Ø§Ø± Ø±Ø§ Ø¨Ù†ÙˆÛŒØ³ÛŒØ¯.";
        state.outcome = v;
      }

      if(current === 5){
        const n = $("#name").value.trim();
        const e = $("#email").value.trim();
        if(!n) return "Ù„Ø·ÙØ§Ù‹ Ù†Ø§Ù… Ùˆ Ù†Ø§Ù… Ø®Ø§Ù†ÙˆØ§Ø¯Ú¯ÛŒ Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯.";
        if(!e) return "Ù„Ø·ÙØ§Ù‹ Ø§ÛŒÙ…ÛŒÙ„ Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯.";
        state.name = n;
        state.email = e;
        state.phone = $("#phone").value.trim();
        state.notes = $("#notes").value.trim();
      }

      return "";
    }

    function renderReview(){
      const lines = [
        `Ù‡Ø¯Ù: ${state.goal || "-"}`,
        `ØªØ¬Ø±Ø¨Ù‡: ${state.level || "-"}`,
        `Ø³Ø·Ø­ ÙÙ†ÛŒ: ${state.skill || "-"}`,
        `Ù†ÙˆØ¹ Ø§ÛŒØ¬Ù†Øª: ${state.agent || "-"}`,
        `Ø®Ø±ÙˆØ¬ÛŒ: ${state.outcome || "-"}`,
        `Ù†Ø§Ù…: ${state.name || "-"}`,
        `Ø§ÛŒÙ…ÛŒÙ„: ${state.email || "-"}`,
        `Ø´Ù…Ø§Ø±Ù‡: ${state.phone || "-"}`,
        `ÛŒØ§Ø¯Ø¯Ø§Ø´Øª: ${state.notes || "-"}`
      ];
      reviewBox.innerHTML = `<div class="small">Ù…Ø±ÙˆØ± Ø³Ø±ÛŒØ¹ Ù‚Ø¨Ù„ Ø§Ø² Ø§Ø±Ø³Ø§Ù„:</div><div style="margin-top:6px; line-height:1.9; color: rgba(255,255,255,.80);">${lines.join("<br/>")}</div>`;
    }

    function syncHiddenFields(){
      $("#f_goal").value = state.goal;
      $("#f_level").value = state.level;
      $("#f_skill").value = state.skill;
      $("#f_agent_type").value = state.agent;
      $("#f_outcome").value = state.outcome;
      $("#f_name").value = state.name;
      $("#f_email").value = state.email;
      $("#f_phone").value = state.phone;
      $("#f_notes").value = state.notes;

      // JSON summary (useful in email)
      $("#f_json").value = JSON.stringify(state, null, 2);
    }

    // Ù†Ù…ÙˆÙ†Ù‡ Ù‚ÙˆØ§Ù†ÛŒÙ† Ù¾ÛŒØ´Ù†Ù‡Ø§Ø¯ Ø³Ø·Ø­ (Ù‚Ø§Ø¨Ù„ ØªØºÛŒÛŒØ±)
    function recommendLevel(state){
      if(state.skill.includes("No-code") || state.skill.includes("Ø¨Ø¯ÙˆÙ† Ú©Ø¯Ù†ÙˆÛŒØ³ÛŒ")) return 1;
      if(state.level.includes("Ù…ØªÙˆØ³Ø·") || state.level.includes("Ú©Ù…ÛŒ")) return 2;
      if(state.level.includes("Ù¾ÛŒØ´Ø±ÙØªÙ‡")) return 3;
      return 1;
    }

    function recommendType(state){
      if(state.agent.includes("ÙØ±ÙˆØ´") || state.agent.includes("Ù„ÛŒØ¯")) return "sales-lead";
      if(state.agent.includes("Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ")) return "support";
      if(state.agent.includes("Ù…Ø­ØªÙˆØ§")) return "content";
      if(state.agent.includes("ØªØ­Ù„ÛŒÙ„")) return "analytics";
      return "general";
    }

    function setNextRedirect(state){
      const level = recommendLevel(state);
      const type  = recommendType(state);
      const nextUrl = `https://setai.no/recommend.html?level=${level}&type=${encodeURIComponent(type)}`;
      const nextField = document.getElementById("nextField");
      if(nextField) nextField.value = nextUrl;
    }

    // Use requestSubmit to ensure a real POST submit happens
    function safeSubmit(){
      if(form.requestSubmit) form.requestSubmit();
      else form.submit();
    }

    // Nav buttons
    prevBtn.addEventListener("click", () => showStep(current - 1));

    nextBtn.addEventListener("click", () => {
      const err = validateCurrent();
      if(err){
        showToast(err);
        return;
      }

      if(current === steps.length - 1){
        // final submit
        setNextRedirect(state);
        syncHiddenFields();
        safeSubmit();
        return;
      }

      showStep(current + 1);
    });

    // --- Simple FA/EN toggle ---
    let lang = "fa";
    const i18n = {
      fa: { btn: "ğŸ‡¬ğŸ‡§ English" },
      en: { btn: "ğŸ‡®ğŸ‡· ÙØ§Ø±Ø³ÛŒ" }
    };
    const langBtn = $("#langBtn");
    if(langBtn){
      langBtn.addEventListener("click", () => {
        lang = (lang === "fa") ? "en" : "fa";
        document.documentElement.lang = lang;
        document.documentElement.dir = (lang === "fa") ? "rtl" : "ltr";
        langBtn.textContent = i18n[lang].btn;

        // Ø¯Ø± ØµÙˆØ±Øª Ù†ÛŒØ§Ø² Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒØ¯ Ù…ØªÙ†â€ŒÙ‡Ø§ Ø±Ø§ Ù†ÛŒØ² ØªØ±Ø¬Ù…Ù‡ Ùˆ Ø¬Ø§Ø¨Ù‡â€ŒØ¬Ø§ Ú©Ù†ÛŒØ¯.
      });
    }

    // init
    renderPills();
    setProgress();
  </script>
</body>
</html>
